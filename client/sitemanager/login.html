<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Vaccin8</title>
		<link rel="stylesheet" type="text/css" href="../assets/stylesheet/style.css" />
		<link rel="stylesheet" type="text/css" href="../assets/stylesheet/input.css" />
	</head>
	<body>
		<header>
			<div id="header-title">VACCIN8</div>
		</header>

        <div class="loginSetup">
            <h1>Site Manager Login</h1>

            <form>
                <div class="formlogin">
                    <label for="uname" class="loginbbby">Username</label>
                    <input type="text" placeholder="Enter Username" name="uname" required>
                    <br />
                    
                    <label for="psw" class="loginbbby">Password</label>
                    <input type="password" placeholder="Enter Password" name="psw" required>
                </div>
                
                <section centered>
                    <button unfilled type="button" onclick="history.back()">Back</button>
                    <button type="submit">Login</button>
                </section>
            </form>
        </div>
        <script>
            q("form").onsubmit = async function(ev) {
                ev.preventDefault();
                id("error-message").style.display = "none";
                
                if(await logIn(byname("uname").value, byname("psw").value, "Site Manager")) {
                    // redirect
                    location.href = "sitemanagermain.html";
                } else {
                    console.log("error in log in");
                    // show the error message
                    id("error-message").style.display = "";
                }
            }
        </script>
    </body>
</html>